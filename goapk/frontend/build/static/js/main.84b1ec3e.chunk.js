(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{41:function(e,t,a){e.exports=a(74)},46:function(e,t,a){},68:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),l=a.n(o),i=(a(46),a(2)),s=a(3),c=a(5),u=a(6),m=a(4),d=a(9),p=a(13),h=a.n(p);function f(){return function(e,t){var a="Token "+t().auth.token;h()("http://localhost:8000/api/auth/user",{headers:{"Content-Type":"aplication/json",Authorization:a}}).then((function(t){return e({type:"LOAD_USER"})})).catch((function(e){console.log(e)}))}}function v(){return function(e,t){var a="Token "+t().auth.token;h.a.post("http://localhost:8000/api/auth/logout",null,{headers:{"Content-Type":"aplication/json",Authorization:a}}).then((function(t){return e({type:"LOGOUT"})})).catch((function(e){console.log(e)}))}}a(68);var b=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={isAuthenticated:!1},e}return Object(s.a)(a,[{key:"render",value:function(){var e=r.a.createElement("div",null,r.a.createElement("button",{onClick:this.props.logOut,className:"btn btn-warning logout-btn"},"Logout"));return r.a.createElement("div",{className:"navigation"},r.a.createElement("div",{className:"nav_logo"},r.a.createElement(d.Link,{exact:!0,to:"/"},"GO apk")),r.a.createElement("div",{className:"navigation_body",id:"my_div"},r.a.createElement(d.Link,{exact:"true",to:"/",className:"link"},"God Odmori"),r.a.createElement(d.Link,{to:"/zaposleni",className:"link"},"Zaposleni"),r.a.createElement(d.Link,{to:"/obrazac",className:"link"},"Zahtev"),this.state.isAuthenticated?e:""))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isAuthenticated!==t.isAuthenticated?{isAuthenticated:e.isAuthenticated}:null}}]),a}(n.Component),E=Object(m.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logOut:v})(b),g=a(7);function _(e){return function(t,a){var n="http://localhost:8000/odmor/detail/"+e+"/";h.a.get(n).then((function(e){t({type:"ODMOR_DETIAL",payload:e.data})})).catch((function(e){return console.log(e)}))}}function O(){return function(e){h.a.get("http://localhost:8000/odmor/zaposleni/").then((function(t){return e({type:"ZAPOSLENI",payload:t.data})})).catch((function(e){return console.log(e)}))}}a(70),a(71);var y=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={odmorList:[],count:0,next:null,previous:null,currentPage:1,orderingUrl:"",filterUrl:""},e.fetchData=e.fetchData.bind(Object(g.a)(e)),e.setOrdering=e.setOrdering.bind(Object(g.a)(e)),e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.controlSwitch();var e="http://localhost:8000/odmor/list/?";this.state.orderingUrl&&(e+=this.state.orderingUrl),this.fetchData(e,1),this.props.loadUser()}},{key:"fetchData",value:function(e,t){var a=this;h.a.get(e).then((function(e){a.setState({odmorList:e.data.results,count:e.data.count,next:e.data.next,previous:e.data.previous,currentPage:t})})).catch((function(e){return console.log(e)}))}},{key:"setOrdering",value:function(e){var t="http://localhost:8000/odmor/list/?";this.state.filterUrl?t=t+e+"&"+this.state.filterUrl:t+=e,this.fetchData(t,1),this.setState({orderingUrl:e})}},{key:"setFilter",value:function(e){var t="http://localhost:8000/odmor/list/?";this.state.orderingUrl?t=t+e+"&"+this.state.orderingUrl:t+=e,this.fetchData(t,1),this.setState({filterUrl:e})}},{key:"getStyle",value:function(e){return"Planiran"===e.status_zahteva?{backgroundColor:"white"}:"Usaglasen"===e.status_zahteva?{backgroundColor:"#c9d1cb"}:{backgroundColor:"#32fa61"}}},{key:"render",value:function(){var e=this,t=["ime","prezime","Poc_odmora","Kraj_odmora","Prvi_dan","status_zahteva","odobrio","prilog","action"];this.props.isAuthenticated||t.splice(8,1);var a=t.map((function(e,t){return"action"===e?r.a.createElement("th",{key:t,colSpan:"2"},e.toUpperCase()):r.a.createElement("th",{key:t},e.toUpperCase())})),n=this.state.odmorList.map((function(t){var a=t.zaposleni,n=t.poc_odmora,o=t.kraj_odmora,l=t.prvi_radni_dan,i=t.status_zahteva,s=t.odobrio,c=t.prilog,u="";c?(c,u="Prilog"):("#",u="Nema");var m="edit/"+t.id,p="delete/"+t.id;return r.a.createElement("tr",{key:t.id,style:e.getStyle(t)},r.a.createElement("td",null,a.split(" ")[0]),r.a.createElement("td",null,a.split(" ")[1]),r.a.createElement("td",null,n),r.a.createElement("td",null,o),r.a.createElement("td",null,l),r.a.createElement("td",null,i),r.a.createElement("td",null,s),r.a.createElement("td",null,r.a.createElement("a",{href:c,download:!0},u)),e.props.isAuthenticated?r.a.createElement("td",null,r.a.createElement(d.Link,{className:"btn btn-secondary",to:m},"Edit")):"",e.props.isAuthenticated?r.a.createElement("td",null,r.a.createElement(d.Link,{className:"btn btn-secondary",to:p},"Delete")):"")})),o=[],l=0,i=1;i=this.state.count%10!==0?parseInt(this.state.count/10)+1:this.state.count/10;for(var s=1;s<=i;s++)0===l?this.state.orderingUrl&&this.state.filterUrl?o.push({pageNumber:s,pagelink:"http://localhost:8000/odmor/list/?"+this.state.orderingUrl+"&"+this.state.filterUrl}):o.push({pageNumber:s,pagelink:"http://localhost:8000/odmor/list/?"+this.state.orderingUrl+this.state.filterUrl}):this.state.orderingUrl&&this.state.filterUrl?o.push({pageNumber:s,pagelink:"http://localhost:8000/odmor/list/?limit=10&offset="+l+"&"+this.state.orderingUrl+"&"+this.state.filterUrl}):o.push({pageNumber:s,pagelink:"http://localhost:8000/odmor/list/?limit=10&offset="+l+"&"+this.state.orderingUrl+this.state.filterUrl}),l+=10;var c=o.map((function(t){return e.state.currentPage===t.pageNumber?r.a.createElement("li",{key:t,className:"page-item active"},r.a.createElement("a",{href:"#",onClick:function(){return e.fetchData(t.pagelink,t.pageNumber)},className:"page-link"},t.pageNumber)):r.a.createElement("li",{key:t,className:"page-item"},r.a.createElement("a",{onClick:function(){return e.fetchData(t.pagelink,t.pageNumber)},className:"page-link"},t.pageNumber))})),u=r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Filter table",r.a.createElement("span",null,"\u25be")),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Status Zahteva",r.a.createElement("span",null,"\u25b8")),r.a.createElement("ul",{class:"itam-2"},r.a.createElement("li",null,r.a.createElement("a",{href:"#",onClick:function(){return e.setFilter("status_zahteva=1")}},"Planiran")),r.a.createElement("li",null,r.a.createElement("a",{href:"#",onClick:function(){return e.setFilter("status_zahteva=2")}},"Usaglasen")),r.a.createElement("li",null,r.a.createElement("a",{href:"#",onClick:function(){return e.setFilter("status_zahteva=3")}},"Potvrdjen"))))))),m=r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Sort table",r.a.createElement("span",null,"\u25be")),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"#",onClick:function(){e.setOrdering("ordering=poc_odmora")}},"Poc Odmora")),r.a.createElement("li",null,r.a.createElement("a",{href:"#",onClick:function(){e.setOrdering("ordering=kraj_odmora")}},"Kraj Odmora")),r.a.createElement("li",null,r.a.createElement("a",{href:"#",onClick:function(){e.setOrdering("ordering=prvi_radni_dan")}},"Prvi radni dan")))));return r.a.createElement("div",{id:"odmori"},r.a.createElement("div",{className:"filterSort-menu"},m,u),r.a.createElement("table",{id:"god_odmori_table",className:"table-striped table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,a)),r.a.createElement("tbody",null,n)),r.a.createElement("div",{className:"float-right"},r.a.createElement("ul",{className:"pagination"},this.state.previous?r.a.createElement("li",{className:"page-item",onClick:function(){return e.fetchData(e.state.previous,e.state.currentPage-1)}},r.a.createElement("a",{className:"page-link"},"Previous")):"",c,this.state.next?r.a.createElement("li",{className:"page-item",onClick:function(){return e.fetchData(e.state.next,e.state.currentPage+1)}},r.a.createElement("a",{className:"page-link"},"Next")):"")))}}]),a}(n.Component),j=Object(m.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{loadUser:f,fetchData:function(){return function(e){fetch("localhost:8000/odmor/list/").then((function(t){e({type:"ODMOR_LIST",payload:t.data})})).catch((function(e){return console.log(e)}))}},controlSwitch:function(){return function(e){e({type:"CONTROL_SWITCH"})}}})(y),N=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={zaposleni:[]},e.fetchdata=e.fetchdata.bind(Object(g.a)(e)),e}return Object(s.a)(a,[{key:"componentWillMount",value:function(){this.fetchdata()}},{key:"fetchdata",value:function(){var e=this;fetch("http://localhost:8000/odmor/zaposleni/").then((function(e){return e.json()})).then((function(t){return e.setState({zaposleni:t})}))}},{key:"renderTableHeader",value:function(){return["Ime","Prezime","Br.dana GO","Br.neiskoristenih dana"].map((function(e,t){return r.a.createElement("th",{key:t},e.toUpperCase())}))}},{key:"renderTableData",value:function(){return this.state.zaposleni.map((function(e,t){var a=e.ime,n=e.prezime,o=e.br_dana_go,l=e.br_neiskoristenih_dana;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,o),r.a.createElement("td",null,l))}))}},{key:"render",value:function(){return r.a.createElement("div",{id:"zaposleni",className:"table-responsive"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{id:"zaposleni_table",className:"table-striped table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,this.renderTableHeader()),this.renderTableData()))))}}]),a}(n.Component),k=a(16),D=a(18),S=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={zaposleni:[],ime_prezime:"",date_poc:"",date_kra:"",date_prvi_dan:"",prilog:null,control:!1,show_err:!1},e.handeChangeInput=e.handeChangeInput.bind(Object(g.a)(e)),e.handeSubmit=e.handeSubmit.bind(Object(g.a)(e)),e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.getZaposleni()}},{key:"handeChangeInput",value:function(e){"prilog"===e.target.name?this.setState(Object(k.a)({},e.target.name,e.target.files[0])):this.setState(Object(k.a)({},e.target.name,e.target.value))}},{key:"handeSubmit",value:function(e){e.preventDefault();var t=this.state.ime_prezime,a=0;if(!this.state.ime_prezime){var n=document.getElementById("selectField");t=n.options[n.selectedIndex].value}this.props.zaposleniList.map((function(e){var n=e.ime+" "+e.prezime;t===n&&(a=e.id)}));var r=new FormData;this.state.prilog&&r.append("prilog",this.state.prilog,this.state.prilog.name),r.append("poc_odmora",this.state.date_poc),r.append("kraj_odmora",this.state.date_kra),r.append("prvi_radni_dan",this.state.date_prvi_dan),r.append("zaposleni",a),this.props.addOdmor(r,t)}},{key:"render",value:function(){if(this.state.control)return r.a.createElement(D.c,{to:"/"});var e=this.props.zaposleniList.map((function(e){return 1===e.id?r.a.createElement("option",{key:e.id,selected:!0},e.ime+" "+e.prezime):r.a.createElement("option",{key:e.id},e.ime+" "+e.prezime)})),t=this.props.error_msg.map((function(e){return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},e)}));return r.a.createElement("div",{className:"obrazac_form"},this.state.show_err?t:"",r.a.createElement("fieldset",{className:"border p-2"},r.a.createElement("legend",{className:"w-auto"},"Obrazac"),r.a.createElement("form",{onSubmit:this.handeSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Zaposleni: "),r.a.createElement("select",{name:"ime_prezime",value:this.state.ime_prezime,onChange:this.handeChangeInput,id:"selectField",className:"form-control"},e)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Pocetak odmora"),r.a.createElement("input",{name:"date_poc",type:"date",className:"form-control",value:this.state.date_poc,onChange:this.handeChangeInput})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Kraj odmora"),r.a.createElement("input",{name:"date_kra",type:"date",className:"form-control",value:this.state.date_kra,onChange:this.handeChangeInput})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Prvi radni dan"),r.a.createElement("input",{name:"date_prvi_dan",type:"date",className:"form-control",value:this.state.date_prvi_dan,onChange:this.handeChangeInput})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Prilog"),r.a.createElement("input",{type:"file",name:"prilog",onChange:this.handeChangeInput,className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"Submit",value:"Po\u0161alji zahtev",className:"btn btn-outline-primary"})))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.controlSwitch!==t.control?{control:e.controlSwitch}:e.error_status!==t.show_err?{show_err:e.error_status}:null}}]),a}(n.Component),z=Object(m.b)((function(e){return{zaposleniList:e.odmor.zaposleni,controlSwitch:e.odmor.controlSwitch,error_status:e.odmor.error_status,error_msg:e.odmor.error_msg}}),{getZaposleni:O,addOdmor:function(e,t){return function(a){h.a.post("http://localhost:8000/odmor/create/",e).then((function(e){e.data.zaposleni=t,a({type:"ADD_OMDOR",payload:e.data})})).catch((function(e){console.log(e),a({type:"ERROR_MSG",payload:e.response.data})}))}}})(S),C=a(8),w=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={zaposleni:[],detailObj:{},successful_update:!1,show_err:!1},n.handleChange=n.handleChange.bind(Object(g.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(g.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.loadUser(),this.props.getDetail(e),this.props.getZaposleni()}},{key:"componentWillReceiveProps",value:function(e){this.state.detailObj!==e.itemDetail&&this.setState({detailObj:e.itemDetail}),this.state.successful_update!==e.successful_update&&this.setState({successful_update:e.successful_update}),this.state.show_err!==e.error_status&&this.setState({show_err:e.error_status})}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value,r=Object(C.a)({},this.state.detailObj);r[a]=n,console.log(r),this.setState({detailObj:r})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.props.match.params,n=this.props.zaposleniList.map((function(e,a){return e.ime+" "+e.prezime===t.props.itemDetail.zaposleni?e.id:null})),r=1;"Usaglasen"===this.state.detailObj.status_zahteva?r=2:"Potvrdjen"===this.state.detailObj.status_zahteva&&(r=3);var o={id:a.id,zaposleni:n,poc_odmora:this.state.detailObj.poc_odmora,kraj_odmora:this.state.detailObj.kraj_odmora,prvi_radni_dan:this.state.detailObj.prvi_radni_dan,status_zahteva:r,odobrio:this.state.detailObj.odobrio};this.props.updateDetail(o)}},{key:"render",value:function(){if(!this.props.isAuthenticated||this.state.control)return r.a.createElement(D.c,{to:"/"});var e=this.props.error_msg.map((function(e,t){return r.a.createElement("div",{key:t,className:"alert alert-danger",role:"alert"},e)})),t=r.a.createElement("div",{className:"alert alert-success",role:"alert"},"Successfully Updated!!"),a=r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Zaposleni"),r.a.createElement("input",{type:"text",value:this.state.detailObj.zaposleni,className:"form-control",readOnly:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Pocetak odmora"),r.a.createElement("input",{type:"date",name:"poc_odmora",value:this.state.detailObj.poc_odmora,onChange:this.handleChange,className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Kraj odmora"),r.a.createElement("input",{type:"date",name:"kraj_odmora",value:this.state.detailObj.kraj_odmora,onChange:this.handleChange,className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Prvi radni dan"),r.a.createElement("input",{type:"date",name:"prvi_radni_dan",value:this.state.detailObj.prvi_radni_dan,onChange:this.handleChange,className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Status zahtjeva"),r.a.createElement("select",{value:this.state.detailObj.status_zahteva,name:"status_zahteva",onChange:this.handleChange,className:"form-control"},r.a.createElement("option",null,"Planiran"),r.a.createElement("option",null,"Usaglasen"),r.a.createElement("option",null,"Potvrdjen"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Odobrio"),r.a.createElement("input",{type:"text",value:this.state.detailObj.odobrio,name:"odobrio",onChange:this.handleChange,className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"submit",className:"btn btn-outline-primary"})));return r.a.createElement("div",null,r.a.createElement("fieldset",{className:"border p-2"},r.a.createElement("legend",{className:"w-auto"},"Update"),this.state.successful_update?t:"",this.state.show_err?e:"",a))}}]),a}(n.Component),U=Object(m.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,itemDetail:e.odmor.detail,zaposleniList:e.odmor.zaposleni,controlSwitch:e.odmor.controlSwitch,successful_update:e.odmor.successful_update,error_status:e.odmor.error_status,error_msg:e.odmor.error_msg}}),{getDetail:_,getZaposleni:O,updateDetail:function(e){return function(t,a){var n="Token "+a().auth.token,r="http://localhost:8000/odmor/update/"+e.id+"/";h.a.put(r,e,{headers:{"Content-Type":"application/json",Authorization:n}}).then((function(e){t({type:"ODMOR_UPDATE",payload:e.data})})).catch((function(e){console.log(e.response),t({type:"ERROR_MSG",payload:e.response.data})}))}},loadUser:f})(w),L=a(9).NavLink,A=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={odmorDetail:{},control:!1},e.handleSubmit=e.handleSubmit.bind(Object(g.a)(e)),e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.getDetail(e),this.props.getZaposleni()}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.props.match.params,n=this.props.zaposleniList.map((function(e,a){return e.ime+" "+e.prezime===t.props.itemDetail.zaposleni?e.id:null})),r=1;"Usaglasen"===this.state.odmorDetail.status_zahteva?r=2:"Potvrdjen"===this.state.odmorDetail.status_zahteva&&(r=3);var o={id:a.id,zaposleni:n,poc_odmora:this.state.odmorDetail.poc_odmora,kraj_odmora:this.state.odmorDetail.kraj_odmora,prvi_radni_dan:this.state.odmorDetail.prvi_radni_dan,status_zahteva:r,odobrio:this.state.odmorDetail.odobrio};this.props.deleteData(o)}},{key:"render",value:function(){if(!this.props.isAuthenticated||this.state.control)return r.a.createElement(D.c,{to:"/"});var e=r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Zaposleni"),r.a.createElement("input",{type:"text",value:this.state.odmorDetail.zaposleni,className:"form-control",readOnly:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Pocetak odmora"),r.a.createElement("input",{type:"text",name:"poc_odmora",value:this.state.odmorDetail.poc_odmora,className:"form-control",readOnly:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Kraj odmora"),r.a.createElement("input",{type:"text",name:"kraj_odmora",value:this.state.odmorDetail.kraj_odmora,className:"form-control",readOnly:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Prvi radni dan"),r.a.createElement("input",{type:"text",name:"prvi_radni_dan",value:this.state.odmorDetail.prvi_radni_dan,className:"form-control",readOnly:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Status zahtjeva"),r.a.createElement("input",{type:"text",value:this.state.odmorDetail.status_zahteva,className:"form-control",readOnly:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Odobrio"),r.a.createElement("input",{type:"text",value:this.state.odmorDetail.odobrio,name:"odobrio",className:"form-control",readOnly:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Confirm,delete",className:"btn btn-outline-danger m-2",readOnly:!0}),r.a.createElement(L,{className:"btn btn-secondary",to:""},"Cancle")));return r.a.createElement("div",{className:"delete_form"},r.a.createElement("fieldset",{className:"border p-2"},r.a.createElement("legend",{className:"w-auto"},"Confirm delete request"),e))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.itemDetail!==t.odmorDetail?{odmorDetail:e.itemDetail}:e.controlSwitch!==t.control?{control:e.controlSwitch}:null}}]),a}(n.Component),P=Object(m.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,itemDetail:e.odmor.detail,zaposleniList:e.odmor.zaposleni,controlSwitch:e.odmor.controlSwitch}}),{getDetail:_,getZaposleni:O,deleteData:function(e){return function(t,a){var n="Token "+a().auth.token,r="http://localhost:8000/odmor/update/"+e.id+"/";h.a.delete(r,e,{headers:{"Content-Type":"application/json",Authorization:n}}).then((function(a){t({type:"ODMOR_DELETE",payload:e.id})})).catch((function(e){return console.log(e)}))}}})(A),x=(a(72),function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={username:"",password:"",show_err:!1},e.handleSubmit=e.handleSubmit.bind(Object(g.a)(e)),e.handleChange=e.handleChange.bind(Object(g.a)(e)),e}return Object(s.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(k.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={username:this.state.username,password:this.state.password};this.props.loginUser(t)}},{key:"render",value:function(){if(!0===this.props.isAuthenticated)return r.a.createElement(D.c,{to:"/"});this.props.error_msg.map((function(e){return console.log(e)}));var e=this.props.error_msg.map((function(e){return"username"==Object.keys(e)?r.a.createElement("div",{className:"alert alert-danger form-box",role:"alert"},Object.values(e)):""})),t=this.props.error_msg.map((function(e){return"password"==Object.keys(e)?r.a.createElement("div",{className:"alert alert-danger form-box",role:"alert"},Object.values(e)):""})),a=this.props.error_msg.map((function(e){return"non_field_errors"==Object.keys(e)?r.a.createElement("div",{className:"alert alert-danger form-box",role:"alert"},Object.values(e)):""}));return r.a.createElement("div",{className:"login_form"},r.a.createElement("h1",null,"Login Please!"),r.a.createElement("hr",{className:"hr_line"}),this.state.show_err?a:"",r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group form-box"},r.a.createElement("i",{className:"far fa-user fa-2x"}),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange,placeholder:"Username",className:"form-control"})),this.state.show_err?e:"",r.a.createElement("div",{className:"form-group form-box"},r.a.createElement("i",{className:"fas fa-lock fa-2x"}),r.a.createElement("input",{type:"password",name:"password",value:this.state.pasword,onChange:this.handleChange,placeholder:"Password",className:"form-control"})),this.state.show_err?t:"",r.a.createElement("div",{className:"submit_box"},r.a.createElement("input",{type:"submit",value:"Login",className:"btn btn-primary btn-lg btn-block"}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.error_status!==t.show_err?{show_err:e.error_status}:null}}]),a}(n.Component)),R=Object(m.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,error_status:e.auth.error_status,error_msg:e.auth.error_msg}}),{loginUser:function(e){return function(t){h.a.post("http://localhost:8000/api/auth/login",e).then((function(e){return t({type:"LOGIN_SUCCESS",payload:e.data})})).catch((function(e){t({type:"AUTH_ERROR",payload:e.response.data})}))}}})(x),T=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.getDetail(e)}},{key:"render",value:function(){this.props.itemDetail.id;return r.a.createElement("div",null,r.a.createElement("fieldset",{className:"border p-2"},r.a.createElement("legend",{className:"w-auto"},"Detail"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Zaposleni"),r.a.createElement("input",{type:"text",value:this.props.itemDetail.zaposleni,className:"form-control",readOnly:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Pocetak odmora"),r.a.createElement("input",{type:"date",name:"poc_odmora",value:this.props.itemDetail.poc_odmora,className:"form-control",readOnly:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Kraj odmora"),r.a.createElement("input",{type:"date",name:"kraj_odmora",value:this.props.itemDetail.kraj_odmora,className:"form-control",readOnly:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Prvi radni dan"),r.a.createElement("input",{type:"date",name:"prvi_radni_dan",value:this.props.itemDetail.prvi_radni_dan,className:"form-control",readOnly:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Status zahtjeva"),r.a.createElement("input",{type:"text",value:this.props.itemDetail.status_zahteva,name:"status_zahteva",className:"form-control",readOnly:!0})),this.props.itemDetail.prilog?r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"prilog"),r.a.createElement("input",{type:"text",value:this.props.itemDetail.prilog,name:"prilog",className:"form-control",readOnly:!0})):"",r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Odobrio"),r.a.createElement("input",{type:"text",value:this.props.itemDetail.odobrio,name:"odobrio",className:"form-control",readOnly:!0})))))}}]),a}(n.Component),I=Object(m.b)((function(e){return{itemDetail:e.odmor.detail}}),{getDetail:_})(T),M=(a(73),a(9)),Z=M.BrowserRouter,F=M.Route,G=M.Switch,H=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(Z,null,r.a.createElement(E,null),r.a.createElement("div",{className:"container"},r.a.createElement(G,null,r.a.createElement(F,{exact:!0,path:"/",component:j}),r.a.createElement(F,{path:"/zaposleni",component:N}),r.a.createElement(F,{path:"/obrazac",component:z}),r.a.createElement(F,{path:"/edit/:id",component:U}),r.a.createElement(F,{path:"/delete/:id",component:P}),r.a.createElement(F,{path:"/login",component:R}),r.a.createElement(F,{path:"/detail/:id",component:I}),r.a.createElement(F,{render:function(){return r.a.createElement("p",null,"Not Found ")}}))))}}]),a}(n.Component),K=Object(m.b)(null,{logOut:v})(H);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=a(17),W=a(39),X=a(40),J={token:localStorage.getItem("token"),isAuthenticated:!1,error_status:!1,error_msg:[]},V={odmorList:[],count:0,next:null,previous:null,detail:{},zaposleni:[],controlSwitch:!1,successful_update:!1,error_status:!1,error_msg:[]},q=Object(B.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_USER":case"CHECK_STATUS":return Object(C.a)({},e,{isAuthenticated:!0});case"AUTH_ERROR":localStorage.removeItem("token"),console.log(t.payload);for(var a=[],n=0,r=Object.entries(t.payload);n<r.length;n++){var o=Object(X.a)(r[n],2),l=o[0],i=o[1];a.push(Object(k.a)({},l,i))}return Object(C.a)({},e,{token:null,isAuthenticated:!1,error_status:!0,error_msg:a});case"LOGOUT":return localStorage.removeItem("token"),Object(C.a)({},e,{token:null,isAuthenticated:!1});case"LOGIN_SUCCESS":return localStorage.setItem("token",t.payload.token),Object(C.a)({},e,{},t.payload,{isAuthenticated:!0});default:return e}},odmor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONTROL_SWITCH":return Object(C.a)({},e,{controlSwitch:!1,successful_update:!1,error_status:!1});case"ODMOR_LIST":return Object(C.a)({},e,{odmorList:t.payload.results,count:t.payload.count,next:t.payload.next,previous:t.payload.previous,controlSwitch:!1});case"ODMOR_DETIAL":return Object(C.a)({},e,{detail:t.payload});case"ADD_OMDOR":var a=t.payload,n=e.odmorList.concat(a);return Object(C.a)({},e,{odmorList:n,error_status:!1,controlSwitch:!0});case"ODMOR_UPDATE":var r=e.odmorList.map((function(e){return e.id!==t.payload.id?e:Object(C.a)({},e,{},t.payload)}));return Object(C.a)({},e,{odmorList:r,detail:t.payload,successful_update:!0,error_status:!1});case"ODMOR_DELETE":var o=parseInt(t.payload),l=e.odmorList.filter((function(e){return e!==o}));return Object(C.a)({},e,{odmorList:l,controlSwitch:!0});case"ERROR_MSG":var i=Object.values(t.payload);return console.log(i),Object(C.a)({},e,{error_status:!0,error_msg:i});case"ZAPOSLENI":return Object(C.a)({},e,{zaposleni:t.payload});default:return e}}}),$=[W.a],Q=Object(B.e)(q,{},Object(B.d)(B.a.apply(void 0,$),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m.a,{store:Q},r.a.createElement(K,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.84b1ec3e.chunk.js.map